# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# runConfig defines the behavior of your backend when it's receiving traffic.
runConfig:
  # The minimum number of server instances that are always running and ready
  # to serve traffic. This helps reduce cold starts for new instances.
  # Start with a low number and increase based on observed traffic patterns.
  minInstances: 0

  # The maximum number of server instances that can be created to handle
  # traffic. This is the primary lever for handling high-traffic events.
  # A value of 100 is a safe upper limit for many applications.
  maxInstances: 100

  # The number of concurrent requests a single server instance can handle
  # before App Hosting spins up a new one. A lower number means faster
  # scaling but potentially higher cost. The default is 80.
  concurrency: 80

# cpu specifies the CPU allocation for each server instance.
# 1 CPU is a good starting point. Increase if your app is CPU-intensive.
cpu: 1

# memoryMiB specifies the memory allocation for each server instance.
# 512MiB is the default and sufficient for many Next.js applications.
memoryMiB: 512
